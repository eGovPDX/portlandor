
-
    request:
        method: POST
        url: 'https://onebox/api/authorize/machine-token'
        headers:
            Host: onebox
            Expect: null
            Accept-Encoding: null
            User-Agent: 'Terminus/0.11.4 (php_version=7.0.6&script=boot-fs.php)'
            Content-type: application/json
            Accept: null
        body: '{"machine_token":"111111111111111111111111111111111111111111111","client":"terminus"}'
    response:
        status:
            http_version: '1.1'
            code: '200'
            message: OK
        headers:
            Server: nginx
            Date: 'Tue, 16 Aug 2016 22:51:26 GMT'
            Content-Type: 'application/json; charset=utf-8'
            Content-Length: '182'
            Connection: keep-alive
            X-Pantheon-Trace-Id: f535ebd0-6403-11e6-9844-1524ed28772c
            X-Frame-Options: deny
            Access-Control-Allow-Methods: GET
            Access-Control-Allow-Headers: 'Origin, Content-Type, Accept'
            Cache-Control: no-cache
            Pragma: no-cache
            Vary: Accept-Encoding
            Strict-Transport-Security: max-age=31536000
        body: '{"session":"11111111-1111-1111-1111-111111111111:082ad68c-698c-11e6-85f8-bc764e11227e:yZrAU0SQ6bqIKgE0wVYwZ","expires_at":1473807086,"user_id":"11111111-1111-1111-1111-111111111111"}'
-
    request:
        method: GET
        url: 'https://onebox/api/users/11111111-1111-1111-1111-111111111111'
        headers:
            Host: onebox
            Accept-Encoding: null
            User-Agent: 'Terminus/0.11.4 (php_version=7.0.6&script=boot-fs.php)'
            Content-type: application/json
            Authorization: 'Bearer 11111111-1111-1111-1111-111111111111:082ad68c-698c-11e6-85f8-bc764e11227e:yZrAU0SQ6bqIKgE0wVYwZ'
            Accept: null
    response:
        status:
            http_version: '1.1'
            code: '200'
            message: OK
        headers:
            Server: nginx
            Date: 'Tue, 16 Aug 2016 22:51:26 GMT'
            Content-Type: application/json
            Content-Length: '3327'
            Connection: keep-alive
            X-Pantheon-Trace-Id: f68d3e70-6403-11e6-9844-1524ed28772c
            X-Frame-Options: deny
            Access-Control-Allow-Methods: GET
            Access-Control-Allow-Headers: 'Origin, Content-Type, Accept'
            Cache-Control: no-cache
            Pragma: no-cache
            Vary: Accept-Encoding
            Strict-Transport-Security: max-age=31536000
        body: '{"profile": {"utm_term": "", "invites_to_nonuser": 4, "seen_first_time_user_popover": true, "utm_content": "/", "experiments": {"welcome_video": "shown"}, "full_name": "Dev User", "pullFromLive": false, "utm_device": "", "initial_identity_strategy": null, "utm_campaign": "pantheon.io (organic)", "tracking_first_site_create": 1428723370, "verify": "037eadb020d51ccddba9e06a64908c98", "tracking_first_code_push": 1428811227, "google_adwords_account_registered_sent": 1428707350, "invites_to_user": 8, "utm_medium": "", "job_function": "developer", "tracking_first_workflow_in_live": 1428811293, "tracking_first_team_invite": 1436464837, "firstname": "Dev", "invites_to_site": 12, "lastname": "User", "pda_campaign": null, "utm_source": "https://www.bing.com/search?setmkt=en-US&q=pantheon+san+francisco", "google_adwords_pushed_code_sent": 1428811242, "last-org-spinup": "none", "web_services_business": null, "initial_identity_name": null, "guilty_of_abuse": null, "invites_sent": 12, "tracking_first_site_upgrade": 1437784612, "google_adwords_paid_for_site_sent": 1438018300, "modified": 1458174494, "maxdevsites": 2, "lead_type": "", "organization": " Pantheon Systems, Inc"}, "feature_flags": [{"name": "Experimental Products", "default": false, "enabled": false, "visible": false, "optional": false, "id": "experimental-products"}, {"name": "annotate git tags", "default": false, "enabled": false, "visible": false, "optional": false, "id": "annotate_git_tags"}, {"name": "Cacheserver Add-on", "default": false, "enabled": false, "visible": false, "optional": false, "id": "cacheserver-addon"}, {"name": "Apollo Spinup", "default": true, "enabled": true, "visible": false, "optional": false, "id": "apollo-spinup"}, {"name": "Pantheon One", "default": false, "enabled": false, "visible": false, "optional": false, "id": "one"}, {"name": "Unified User Account Screen ", "default": false, "enabled": false, "visible": true, "optional": false, "id": "apollo-user"}, {"name": "Indexserver Add-on", "default": false, "enabled": false, "visible": true, "optional": false, "id": "indexserver-addon"}, {"name": "Wordpress", "default": false, "enabled": false, "visible": false, "optional": false, "id": "wordpress"}, {"name": "Apollo Self-Service Toggle", "default": true, "enabled": true, "visible": false, "optional": false, "id": "apollo-toggle"}, {"name": "Site Audit Checks", "default": false, "enabled": false, "visible": false, "optional": false, "id": "site_audit_checks"}, {"description": "Enables the new Desk API 2.0 Interface", "default": false, "enabled": true, "visible": true, "percentage": 100, "optional": false, "id": "desk", "name": "desk"}, {"name": "org tags", "default": false, "enabled": false, "visible": true, "optional": false, "id": "org-tags"}, {"name": "Apollo Dashboard", "default": true, "enabled": true, "visible": false, "optional": false, "id": "apollo"}, {"name": "Org Upstream Updates", "default": false, "enabled": false, "visible": false, "optional": false, "id": "org-has-code"}], "user_id": "11111111-1111-1111-1111-111111111111", "created_at": 1428707345, "dev_sites_count": 2, "id": "11111111-1111-1111-1111-111111111111", "destination_organization_id": null, "is_registered": true, "created_organization_id": null, "password": "SCRUBBED", "email": "devuser@pantheon.io"}'
-
    request:
        method: GET
        url: 'https://onebox/api/site-names/behat-tests'
        headers:
            Host: onebox
            Accept-Encoding: null
            User-Agent: 'Terminus/0.11.4 (php_version=7.0.6&script=boot-fs.php)'
            Content-type: application/json
            Authorization: 'Bearer 11111111-1111-1111-1111-111111111111:082ad68c-698c-11e6-85f8-bc764e11227e:yZrAU0SQ6bqIKgE0wVYwZ'
            Accept: null
    response:
        status:
            http_version: '1.1'
            code: '200'
            message: OK
        headers:
            Server: nginx
            Date: 'Tue, 23 Aug 2016 23:48:04 GMT'
            Content-Type: application/json
            Transfer-Encoding: chunked
            Connection: keep-alive
            X-Pantheon-Trace-Id: 08913210-698c-11e6-9ba8-733939e0aeaf
            X-Frame-Options: deny
            Access-Control-Allow-Methods: GET
            Access-Control-Allow-Headers: 'Origin, Content-Type, Accept'
            Cache-Control: no-cache
            Pragma: no-cache
            Vary: Accept-Encoding
            Strict-Transport-Security: max-age=31536000
        body: '{"id": "1fdf3bf6-50e3-42d8-ae56-fb4051481404", "name": "behat-tests"}'
-
    request:
        method: GET
        url: 'https://onebox/api/sites/1fdf3bf6-50e3-42d8-ae56-fb4051481404?site_state=true'
        headers:
            Host: onebox
            Accept-Encoding: null
            User-Agent: 'Terminus/0.11.4 (php_version=7.0.6&script=boot-fs.php)'
            Content-type: application/json
            Authorization: 'Bearer 11111111-1111-1111-1111-111111111111:082ad68c-698c-11e6-85f8-bc764e11227e:yZrAU0SQ6bqIKgE0wVYwZ'
            Accept: null
    response:
        status:
            http_version: '1.1'
            code: '200'
            message: OK
        headers:
            Server: nginx
            Date: 'Tue, 23 Aug 2016 23:48:04 GMT'
            Content-Type: application/json
            Content-Length: '3582'
            Connection: keep-alive
            X-Pantheon-Trace-Id: 08cb2dd0-698c-11e6-9ba8-733939e0aeaf
            X-Frame-Options: deny
            Access-Control-Allow-Methods: GET
            Access-Control-Allow-Headers: 'Origin, Content-Type, Accept'
            Cache-Control: no-cache
            Pragma: no-cache
            Vary: Accept-Encoding
            Strict-Transport-Security: max-age=31536000
        body: '{"cost": 400, "created": 1471984734, "created_by_user_id": "11111111-1111-1111-1111-111111111111", "framework": "wordpress", "holder_id": "11111111-1111-1111-1111-111111111111", "holder_type": "user", "instrument": "11111111-1111-1111-1111-111111111111", "last_code_push": {"timestamp": "2016-08-23T20:39:04", "user_uuid": null}, "name": "behat-tests", "owner": "11111111-1111-1111-1111-111111111111", "php_version": "55", "preferred_zone": "onebox", "purchased_at": 1471990537, "service_level": "business", "upstream": {"url": "https://github.com/pantheon-systems/WordPress", "product_id": "ebd3ecfc-ff8d-4e3b-aead-eb4202045ce6", "branch": "master"}, "label": "Behat Tests", "id": "1fdf3bf6-50e3-42d8-ae56-fb4051481404", "holder": {"profile": {"utm_term": "", "tracking_first_organization_invite": 1465862768, "invites_to_nonuser": 5, "utm_content": "", "phone": "415-555-0000", "experiments": {"activation_walkme": "modified", "welcome_video": "shown"}, "full_name": "Dev User", "pullFromLive": true, "utm_device": "", "web_services_business": null, "initial_identity_strategy": null, "google_adwords_pushed_code_do_send": null, "utm_campaign": "", "invites_sent": 13, "google_adwords_paid_for_site_do_send": null, "tracking_first_ally_reg": 1464201921, "tracking_first_code_push": 1466791262, "invites_to_user": 8, "role": "Engineer", "job_function": "developer", "utm_medium": "", "tracking_first_workflow_in_live": 1464030833, "google_adwords_account_registered_do_send": null, "google_adwords_paid_for_site_sent": 1464041136, "firstname": "Dev", "invites_to_site": 6, "lastname": "User", "pda_campaign": null, "utm_source": "", "google_adwords_pushed_code_sent": 1466791288, "last-org-spinup": "none", "tracking_first_site_create": 1463780040, "initial_identity_name": null, "created_organization_name": "Test Agency", "guilty_of_abuse": null, "invites_to_org": 7, "tracking_first_site_upgrade": 1464031584, "dtl": "", "modified": 1463779130, "tracking_first_team_invite": 1464721435, "maxdevsites": 12, "verify": 1, "google_adwords_account_registered_sent": 1463779134, "organization": "Pantheon"}, "id": "11111111-1111-1111-1111-111111111111", "email": "devuser@pantheon.io"}, "settings": {"allow_domains": true, "max_num_cdes": 10, "stunnel": false, "cost": 400, "owner": "11111111-1111-1111-1111-111111111111", "secure_runtime_access": false, "pingdom": 0, "allow_indexserver": false, "created_by_user_id": "11111111-1111-1111-1111-111111111111", "failover_appserver": 0, "cacheserver": 1, "support_plan": "regular_support", "appserver": 1, "on_server_development": false, "drush_version": 5, "label": "Behat Tests", "instrument": "11111111-1111-1111-1111-111111111111", "number_allow_domains": 200, "allow_read_slaves": false, "indexserver": 1, "php_version": "55", "php_channel": "stable", "allow_cacheserver": false, "ssl_enabled": null, "min_backups": 0, "service_level": "business", "dedicated_ip": null, "dbserver": 1, "purchased_at": 1471990537, "framework": "wordpress", "upstream": {"url": "https://github.com/pantheon-systems/WordPress", "product_id": "ebd3ecfc-ff8d-4e3b-aead-eb4202045ce6", "branch": "master"}, "guilty_of_abuse": null, "preferred_zone": "onebox", "pingdom_chance": 0, "holder_id": "11111111-1111-1111-1111-111111111111", "name": "behat-tests", "created": 1471984734, "max_backups": 7, "holder_type": "user", "replica_verification_strategy": "pt-heartbeat", "pingdom_manually_enabled": false, "last_code_push": {"timestamp": "2016-08-23T20:39:04", "user_uuid": null}}, "base_domain": null, "attributes": {"label": "Behat Tests"}, "add_ons": []}'
-
    request:
        method: GET
        url: 'https://onebox/api/sites/1fdf3bf6-50e3-42d8-ae56-fb4051481404/environments'
        headers:
            Host: onebox
            Accept-Encoding: null
            User-Agent: 'Terminus/0.11.4 (php_version=7.0.6&script=boot-fs.php)'
            Content-type: application/json
            Authorization: 'Bearer 11111111-1111-1111-1111-111111111111:082ad68c-698c-11e6-85f8-bc764e11227e:yZrAU0SQ6bqIKgE0wVYwZ'
            Accept: null
    response:
        status:
            http_version: '1.1'
            code: '200'
            message: OK
        headers:
            Server: nginx
            Date: 'Tue, 23 Aug 2016 23:48:05 GMT'
            Content-Type: application/json
            Transfer-Encoding: chunked
            Connection: keep-alive
            X-Pantheon-Trace-Id: 090f14a0-698c-11e6-9ba8-733939e0aeaf
            X-Frame-Options: deny
            Access-Control-Allow-Methods: GET
            Access-Control-Allow-Headers: 'Origin, Content-Type, Accept'
            Cache-Control: no-cache
            Pragma: no-cache
            Vary: Accept-Encoding
            Strict-Transport-Security: max-age=31536000
        body: '{"dev": {"watchers": 1, "diffstat": {}, "on_server_development": true, "environment_created": 1471984734, "dns_zone": "onebox.pantheon.io", "randseed": "8VAW03V0B1CJCFRS19KFUGIE4PTT84DV", "target_ref": "refs/heads/master", "lock": {"username": null, "password": null, "locked": false}, "target_commit": "1fd189de48079708075d2bed9571a039d0ffe63f", "styx_cluster": "styx-onebox.onebox.pantheon.io"}, "live": {"environment_created": 1471984734, "dns_zone": "onebox.pantheon.io", "randseed": "I9OZYAOQ6R9CEULS04OVGZ3T04AKF1RS", "lock": {"username": null, "password": null, "locked": false}, "pingdom": 0, "styx_cluster": "styx-onebox.onebox.pantheon.io"}, "test": {"environment_created": 1471984734, "dns_zone": "onebox.pantheon.io", "randseed": "065O0TT7ZK6SP0CJ0QCXXRLQIQ0SBJ5T", "target_ref": "refs/tags/pantheon_test_1", "lock": {"username": null, "password": null, "locked": false}, "target_commit": "1fd189de48079708075d2bed9571a039d0ffe63f", "styx_cluster": "styx-onebox.onebox.pantheon.io"}}'
-
    request:
        method: PUT
        url: 'https://onebox/api/sites/1fdf3bf6-50e3-42d8-ae56-fb4051481404/environments/live/domains/testdomain.com'
        headers:
            Host: onebox
            Content-Length: '0'
            Accept-Encoding: null
            User-Agent: 'Terminus/0.11.4 (php_version=7.0.6&script=boot-fs.php)'
            Content-type: application/json
            Authorization: 'Bearer 11111111-1111-1111-1111-111111111111:082ad68c-698c-11e6-85f8-bc764e11227e:yZrAU0SQ6bqIKgE0wVYwZ'
            Accept: null
    response:
        status:
            http_version: '1.1'
            code: '200'
            message: OK
        headers:
            Server: nginx
            Date: 'Tue, 23 Aug 2016 23:48:05 GMT'
            Content-Type: application/json
            Content-Length: '4'
            Connection: keep-alive
            X-Pantheon-Trace-Id: 09702060-698c-11e6-9ba8-733939e0aeaf
            X-Frame-Options: deny
            Access-Control-Allow-Methods: GET
            Access-Control-Allow-Headers: 'Origin, Content-Type, Accept'
            Cache-Control: no-cache
            Pragma: no-cache
            Vary: Accept-Encoding
            Strict-Transport-Security: max-age=31536000
        body: '"Ok"'
