/* ------------------ Header ------------------ */

@media (max-width: 33.9em) {
  .navbar-toggleable-xs .navbar-nav .nav-item + .nav-item,
  .navbar-toggleable-xs.collapse.in .navbar-nav .nav-item {
    margin-left: 0;
    float: none;
  }
}

@media (max-width: 47.9em) {
  .navbar-toggleable-sm .navbar-nav .nav-item + .nav-item,
  .navbar-toggleable-xs.collapse.in .navbar-nav .nav-item {
    margin-left: 0;
    float: none;
  }
}

.header {
  background-color: $cloudy-color-neutral-0;
  // Using the ID here to make sure we are only effecting the global header
  &#header {
    @media (max-width: 767px) {
      & > .container {
        padding: 0;
        margin: 0;
        max-width: 100%;
        .navbar-nav.nav {
          background: $cloudy-color-neutral-100;
          padding: $cloudy-space-4;
        }
        .cloudy-logo {
          padding-left: $cloudy-space-4;
        }
      }
    }
  }
}

.banner {
  background-image: linear-gradient(to bottom right, $cloudy-color-neutral-500, $cloudy-color-neutral-900);
  background-color: $cloudy-color-neutral-900;
  color: $cloudy-color-neutral-0;
}

.navbar {
  flex-flow: wrap;
  padding: 0;
  .region.region-header {
    order: 1;
  }
  .cloudy-logo {
    max-width: 160px;

    @include media-breakpoint-up(lg) {
      max-width: 100%;
    }
  }
  .navbar-toggler {
    background-color: $cloudy-color-neutral-0;
    border-radius: 0;
    padding: $cloudy-space-6 $cloudy-space-4;
    line-height: $cloudy-space-6;
    color: $cloudy-color-blue-500;
    position: relative;
    .icon {
      margin: 0;
    }
    .navbar-toggle-item--open {
      font-weight: 600;
    }
    .navbar-toggle-item--close {
      display: none;
    }
    &[aria-expanded="true"] {
      background: $cloudy-color-blue-800;
      color: $cloudy-color-neutral-0;
      svg {
        color: $cloudy-color-neutral-0;
      }
      .navbar-toggle-item--open {
        display: none;
      }
      .navbar-toggle-item--close {
        display: inherit;
      }
    }
  }
  .navbar-nav {
    .nav-item {
      font-weight: 600;
    }
    .nav-link {
      color: $cloudy-color-blue-500;
      display: inline-block;
      @include links(
          $cloudy-color-blue-500,
          $cloudy-color-blue-500,
          $cloudy-color-blue-500,
          $cloudy-color-blue-500
      );
      padding: $cloudy-space-2 0;

      @include media-breakpoint-up(md) {
        padding: $cloudy-space-2 $cloudy-space-3;
        transition: background-color 0.25s ease, font-size 0.25s ease;
        &:hover {
          background: $cloudy-color-neutral-100;
        }
        &.active {
          color: $cloudy-color-blue-800;
        }
      }
      @include media-breakpoint-up(lg) {
        padding: $cloudy-space-6 $cloudy-space-4;
      }
    }
  }
  .navbar-form {
    display: none;
    @include media-breakpoint-up(lg) {
      display: inherit;
    }
  }
  .navbar-toggle-group {
    order: 2;
    @include media-breakpoint-up(md) {
      order: 3;
      padding-left: $cloudy-space-3;
    }
    @include media-breakpoint-up(lg) {
      display: none;
    }
    .search-toggle {
      -webkit-appearance: none;
      background-color: transparent;
      border: 0;
      padding: 0;
      .icon {
        color: $cloudy-color-blue-800;
      }
    }
  }
  .navbar-mobile-drawer {
    order: 3;
    @include media-breakpoint-up(md) {
      order: 2;
    }
  }
  .navbar-mobile-search-drawer {
    flex-basis: 100%;
    -webkit-box-flex: 1;
    flex-grow: 1;
    -webkit-box-align: center;
    align-items: center;
    padding: $cloudy-space-4 $cloudy-space-4 $cloudy-space-2;
    background: $cloudy-color-blue-800;
    order: 4;
    @include media-breakpoint-up(lg) {
      display: none;
    }
    .search-api-page-block-form .form-inline--search-block {
      border: none;
      max-width: 100%;
    }
    input.form-autocomplete.form-text {
      width: 100%;
    }
  }
}

.featured-top {
  background-color: $cloudy-color-neutral-100;
}
