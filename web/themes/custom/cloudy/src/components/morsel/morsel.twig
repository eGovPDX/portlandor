{# DEFAULTS #}
{% set headingLevel = heading.level|default(3) %}
{# CLASSES #}
{% set classes = [
  'morsel',
  is_draft ? 'morsel--is-draft',
  image ? 'morsel--image-featured',
] %}
{# TWIG #}
<div class="{{ classes|join(' ')|trim }}">
  <div class="row no-gutters">
    <div class="morsel__heading col-12 order-2">
      {% include "@components/heading/heading.twig" with {
        url: url,
        level: headingLevel,
        style: heading.style_override,
        text: heading.text
      } only %}
    </div>
    <div class="morsel__prehead d-flex flex-wrap col-12 order-1">
      {% if is_draft %}
        {% include "@components/badge/badge.twig" with {
          classes: [
            'order-1',
            'mb-2',
          ],
          text: "unpublished",
          type: "danger",
        } only %}
      {% endif %}
      {% if type %}
        {% include "@components/badge/badge.twig" with {
          classes: [
            'order-2',
            'mb-2',
          ],
          text: type,
          type: "gray",
        } only %}
      {% endif %}
      {% if status %}
        {% include "@components/badge/badge.twig" with {
          classes: [
            'order-1',
            'mb-2',
            'mr-2',
          ],
          text: status,
          type: "red",
        } only %}
      {% endif %}
      {% if popular and popular|render == "On" %}
        {% include "@components/badge/badge.twig" with {
          classes: [
            'order-1',
            'mb-2',
            'mr-2',
          ],
          text: "Popular",
          type: "green",
        } only %}
      {% endif %}
    </div>
  </div>
  <div class="row no-gutters">
    <div class="morsel__body col-md col-12-sm order-md-1 order-sm-2">
      {% if updated_on and posted_on and (updated_on|striptags|date('U') > posted_on|striptags|date('U')) %}
        <div class="morsel__date">{% if updated_on %}<span class="font-weight-bold">Updated</span> {{ updated_on }}{% endif %}</div>
      {% elseif posted_on %}
        <div class="morsel__date">{% if posted_on %}<span class="sr-only">Posted on</span>{{ posted_on }}{% endif %}</div>
      {% endif %}
      {% if group_date %} {# Removing the extra div; it wants to print that div even with group_date is only space #}
        {{ group_date }}
      {% endif %}
      {% if group_time %}
        <div class="morsel__time">{{ group_time }}</div>
      {% endif %}
      {% if is_online %}
        <div class="morsel__online">{{ is_online }}</div>
      {% endif %}
      {% if text %}
        <div class="morsel__text">{{ text }}</div>
      {% endif %}
      {% if location %}{# location component should be passed through here #}
        <div class="morsel__location">
          {{ location }}
        </div>
      {% endif %}
    </div>
    {% if image %}
      <div class="morsel__image col-md-4 col-sm-12 order-md-2 order-sm-1">
        <div class="morsel__image-inner">
          {{ image }}
        </div>
      </div>
    {% endif %}
  </div>
</div>
