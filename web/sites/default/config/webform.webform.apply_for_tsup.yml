uuid: 6fda9b8d-6297-4af4-b86a-0c7da5fd244e
langcode: en
status: open
dependencies:
  module:
    - antibot
    - honeypot
third_party_settings:
  antibot:
    antibot: true
  honeypot:
    honeypot: true
weight: 0
open: null
close: null
uid: 60
template: false
archive: false
id: apply_for_tsup
title: 'Apply for Temporary Street Use Permit'
description: ''
category: Apply
elements: |-
  page_start:
    '#type': webform_wizard_page
    '#title': Start
    markup:
      '#type': webform_markup
      '#markup': 'This form allows you to apply for a permit to close a portion or an entire street, or renew an existing permit.'
    apply_already_have_permit:
      '#type': radios
      '#title': 'Do you already have a permit?'
      '#options': yes_no
      '#options_display': side_by_side
      '#required': true
    already_have_permit_text:
      '#type': webform_markup
      '#states':
        visible:
          ':input[name="apply_already_have_permit"]':
            value: 'Yes'
      '#markup': |-
        <div class="alert alert--info next-steps">
        <h2>Next Steps</h2>

        <p>[Go to separate renewal/change process]</p>
        </div>
    actions_02:
      '#type': webform_actions
      '#title': 'Submit button(s)'
      '#states':
        invisible:
          ':input[name="apply_already_have_permit"]':
            value: 'Yes'
  page_purpose:
    '#type': webform_wizard_page
    '#title': Purpose
    apply_why:
      '#type': radios
      '#title': 'Why do you want to close the street or right-of-way?'
      '#options':
        'Moving or loading': 'Moving or loading -- You can reserve a parking space for personal/business moves, to load or unload for events, etc. If you would like to request a temporary permanent loading zone for your business, please select â€œBusiness Use."'
        'Construction or utility work': 'Construction or utility work --  You may need a construction (link), utility (link), or urban forestry (link) permit to authorize work. Once you have the required permits, you can use this form to reserve the street to conduct the permitted work.'
        'Business use': 'Business use'
        'Community use or event': 'Community use or event'
      '#required': true
    business_use_text:
      '#type': webform_markup
      '#states':
        visible:
          ':input[name="apply_why"]':
            value: 'Business use'
      '#markup': |-
        <div class="alert alert--info next-steps">
        <h2>Next Steps</h2>

        <p>[Go to Healthy Business Permits]</p>
        </div>
    portland_in_streets_text:
      '#type': webform_markup
      '#states':
        visible:
          ':input[name="apply_why"]':
            value: 'Community use or event'
      '#markup': |-
        <div class="alert alert--info next-steps">
        <h2>Next Steps</h2>

        <p>[Go to Portland in the Streets]</p>
        </div>
    actions_01:
      '#type': webform_actions
      '#title': 'Submit button(s)'
      '#states':
        invisible:
          - ':input[name="apply_why"]':
              value: 'Business use'
          - or
          - ':input[name="apply_why"]':
              value: 'Community use or event'
  page_entire_street:
    '#type': webform_wizard_page
    '#title': Scope
    '#states':
      invisible:
        ':input[name="apply_why"]':
          value: 'Moving or loading'
    apply_entire_street:
      '#type': radios
      '#title': 'Do you need to close the entire street?'
      '#options': yes_no
      '#required': true
    apply_which_parts:
      '#type': checkboxes
      '#title': 'Which part(s) of the right-of-way do you want to reserve/close? (select all that apply)'
      '#options':
        'Parking space(s)': 'Parking space(s)'
        'Travel lane(s), including car and/or bike lanes': 'Travel lane(s), including car and/or bike lanes'
        'Bus or transit lane': 'Bus or transit lane'
        Sidewalk: Sidewalk
      '#required': true
      '#states':
        visible:
          ':input[name="apply_entire_street"]':
            value: 'No'
    actions_03:
      '#type': webform_actions
      '#title': 'Submit button(s)'
  page_parking:
    '#type': webform_wizard_page
    '#title': Parking
    '#states':
      visible:
        - ':input[name="apply_which_parts[Parking space(s)]"]':
            checked: true
        - or
        - ':input[name="apply_why"]':
            value: 'Moving or loading'
    apply_parking_metered:
      '#type': radios
      '#title': 'Is the parking space(es) in a metered zone?'
      '#options':
        'No': 'No'
        'Yes': 'Yes'
      '#options_display': side_by_side
      '#required': true
    apply_how_much_parking_to_reserve:
      '#type': radios
      '#title': 'How many parking spaces do you need to reserve?'
      '#options':
        '5 or less': '5 or less'
        'More than 5...': 'More than 5...'
      '#other__option_label': ''
      '#other__placeholder': ''
      '#required': true
    apply_parking_spaces_count:
      '#type': number
      '#title': 'How many parking spaces?'
      '#states':
        visible:
          ':input[name="apply_how_much_parking_to_reserve"]':
            value: 'More than 5...'
      '#min': 1
    actions_04:
      '#type': webform_actions
      '#title': 'Submit button(s)'
  page_duration:
    '#type': webform_wizard_page
    '#title': Duration
    apply_duration:
      '#type': radios
      '#title': 'How long do you want to reserve?'
      '#options':
        'Up to 7 days': 'Up to 7 days'
        'Up to 4 weeks': 'Up to 4 weeks'
        'Up to 6 months': 'Up to 6 months'
      '#required': true
    actions_05:
      '#type': webform_actions
      '#title': 'Submit button(s)'
  page_additional_info:
    '#type': webform_wizard_page
    '#title': Details
    report_location:
      '#type': portland_location_picker
      '#title': 'Location of closure'
      '#required': true
      '#location_type__access': false
      '#location_park_container__access': false
      '#waterway_instructions__access': false
      '#location_private_owner__access': false
      '#location_address__description': 'Enter the address or cross streets of the requested closure, then click the button to verify the location. Alternately, you may click the map to set the location.'
      '#place_name__access': false
      '#location_details__access': false
    apply_closed_street_name:
      '#type': textfield
      '#title': 'Name of street that will be closed'
      '#required': true
    apply_closed_street_side:
      '#type': textfield
      '#title': 'Side of street'
    apply_types_of_parking_spaces:
      '#type': textfield
      '#title': 'Types of parking spaces'
    apply_closed_street_lanes:
      '#type': number
      '#title': 'Number of traffic lanes each way'
    apply_signalized_intersection:
      '#type': radios
      '#title': 'Is the requested closure within 200 feet of a signalized intersection?'
      '#options': yes_no
    apply_start_datetime:
      '#type': datetime
      '#title': 'Requested start date/time'
      '#date_date_format': ''
      '#date_year_range': '2022:2050'
      '#date_time_format': ''
      '#date_time_step': '900'
    apply_end_datetime:
      '#type': datetime
      '#title': 'Requested end date/time'
      '#date_date_format': ''
      '#date_year_range': '2022:2050'
      '#date_time_format': ''
      '#date_time_step': '900'
    apply_describe_work:
      '#type': textarea
      '#title': 'Please describe the type of work that will be done during the closure'
    apply_vehicles_in_closed_area:
      '#type': textfield
      '#title': 'What vehicles will be parked in the closed area?'
    apply_permit_ivr:
      '#type': textfield
      '#title': 'Permit/IVR number'
    actions_06:
      '#type': webform_actions
      '#title': 'Submit button(s)'
  page_contact:
    '#type': webform_wizard_page
    '#title': Contact
    contact_name:
      '#type': textfield
      '#title': 'Your Name'
      '#required': true
    contact_email:
      '#type': textfield
      '#title': Email
      '#input_mask': '''alias'': ''email'''
      '#required': true
    contact_phone:
      '#type': textfield
      '#title': Phone
    actions_07:
      '#type': webform_actions
      '#title': 'Submit button(s)'
  page_agreement:
    '#type': webform_wizard_page
    '#title': Agreement
    agreement_text:
      '#type': webform_markup
      '#markup': |-
        <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nam efficitur eros ac urna vestibulum sodales at vitae metus. Suspendisse aliquam efficitur enim eget lacinia. Morbi at egestas velit. In fermentum pellentesque risus in aliquam. Vivamus eget erat interdum, congue lacus et, posuere turpis. Proin sed tincidunt lectus. Ut id nulla ipsum. Suspendisse sed sem iaculis, venenatis orci quis, mattis nunc. In non auctor orci. Maecenas pharetra dolor tortor, nec pellentesque turpis tristique in. Nunc porta tristique hendrerit. Nulla congue iaculis lectus a feugiat. Curabitur eu odio vitae mauris tempus congue. In convallis, sem at cursus sollicitudin, nisl felis commodo mauris, sed scelerisque mi erat ut libero.</p>

        <p>Vestibulum pellentesque nunc sed efficitur feugiat. In quam enim, sollicitudin eu mattis vitae, luctus dignissim mi. Cras ac gravida risus. Cras iaculis lorem et tellus elementum, at efficitur odio dapibus. Aenean id nisl tortor. Curabitur laoreet sapien auctor, varius eros in, rhoncus nulla. Vestibulum consectetur mauris sit amet ligula tincidunt tincidunt. Aliquam lobortis metus et porta sagittis. Interdum et malesuada fames ac ante ipsum primis in faucibus. Pellentesque a nulla mattis arcu placerat luctus. Proin semper lacus justo, a tincidunt ex rhoncus sit amet. Fusce eget risus in mi viverra congue vel a ipsum. Curabitur eu nunc quam.</p>

        <p>Class aptent taciti sociosqu ad litora torquent per conubia nostra, per inceptos himenaeos. Integer pellentesque ultricies ligula, fermentum maximus lacus gravida volutpat. Aenean hendrerit, enim quis semper vestibulum, turpis risus lobortis elit, eu bibendum quam odio tristique arcu. Suspendisse non faucibus velit. Nunc sapien augue, elementum eget neque at, auctor auctor magna. Aliquam et ultrices tellus, eu tincidunt mi. Proin mollis nisi at enim ultricies dignissim. Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia curae; Phasellus in mattis libero. Morbi egestas accumsan lorem sit amet congue. Cras vitae justo odio. Vivamus efficitur, urna sit amet facilisis hendrerit, nisi enim gravida libero, nec porttitor odio turpis in metus. Duis accumsan felis enim. Nulla laoreet purus at vehicula aliquam. Nullam et elementum mi. Fusce ut lobortis tellus, ac aliquet elit.</p>

        <p>Integer quis erat ac urna bibendum gravida. Etiam purus massa, elementum ut rutrum eget, placerat ut dui. Nam libero ex, mattis sit amet nibh eget, luctus rutrum dui. Etiam accumsan ante non magna convallis, eu tincidunt leo placerat. Nulla maximus pulvinar tellus, vitae hendrerit lorem lacinia eu. Sed scelerisque nunc at vehicula varius. Nulla feugiat elit nulla, quis posuere mauris interdum quis. Maecenas in hendrerit nulla. Nam eleifend libero eu dictum auctor. Integer sed imperdiet eros. Vivamus ultricies, arcu ac sodales aliquet, tellus diam suscipit lacus, in volutpat dolor leo vitae augue. Donec a commodo ligula. Nullam at velit et sapien rutrum mollis et et nulla. Vestibulum pulvinar erat libero, eu facilisis nibh luctus non. Praesent justo leo, consectetur vel mauris et, faucibus cursus felis. Suspendisse sollicitudin, dolor nec semper eleifend, neque nibh rhoncus metus, vitae molestie dui purus sit amet libero.</p>

        <p>Mauris hendrerit vel velit nec placerat. Fusce eu tellus eget odio pellentesque porta eget vitae massa. Sed aliquam eu libero id volutpat. Duis eget ipsum sed ipsum tincidunt pretium. Maecenas lobortis felis vitae nibh hendrerit vulputate. Nulla eu felis ac nibh semper placerat. Donec eget enim egestas, sagittis lectus non, vehicula nulla. Donec luctus fringilla diam non venenatis. Integer vehicula ligula non facilisis aliquet. Donec quis justo elementum, rutrum ligula quis, elementum tortor. Praesent elementum fringilla orci quis sodales. Aenean mollis pretium dapibus. Duis hendrerit quam dapibus ligula lacinia vestibulum. Suspendisse hendrerit velit a erat cursus feugiat ac a justo. Praesent magna eros, fermentum vel auctor id, volutpat eu ipsum. Nulla tristique non odio et consequat.</p>

        <p>Morbi ut neque nibh. Pellentesque nunc lacus, pulvinar non tempor eget, efficitur non lacus. Praesent tristique ante eu tellus dictum, et sodales lorem tempor. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Cras sollicitudin efficitur tincidunt. Ut vel eleifend dui, placerat tempus metus. Integer quis ex lacus.</p>

        <p>Curabitur eget neque gravida, feugiat risus vulputate, tempor ante. Vivamus augue ex, pulvinar et nisi eget, tempus aliquam enim. Phasellus vitae felis orci. Integer mattis suscipit dignissim. Aliquam vitae malesuada magna. Proin in dolor in massa sollicitudin pretium. Morbi massa orci, vulputate non lobortis ac, pharetra quis elit. Nunc interdum libero et purus viverra, interdum elementum turpis semper. Donec tincidunt sit amet nisl eu placerat. Fusce ex ligula, consectetur sit amet augue et, iaculis imperdiet nisl. Vestibulum nunc magna, tempor et augue et, ornare porta nisi. Aliquam non nunc vitae elit tristique pharetra. Proin ac sagittis eros. Sed orci ex, pellentesque et volutpat et, euismod sed quam. Curabitur in ligula lacus.</p>

        <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Duis feugiat dui non felis sollicitudin iaculis. Nunc sit amet metus nec lectus dignissim placerat ut in erat. Donec vitae tortor eget nunc lacinia aliquam. Mauris pharetra leo diam, vitae gravida nulla vulputate in. Suspendisse lacus nunc, rutrum ac nisl sit amet, posuere venenatis lorem. Pellentesque maximus elit nec ex mattis condimentum. Nulla nec auctor nisi, in efficitur est. Fusce pellentesque massa ut egestas iaculis.</p>

        <p>Nulla pellentesque sit amet sapien quis sodales. Cras porta porttitor metus, quis ultricies urna. Nullam efficitur commodo ullamcorper. Nullam varius gravida metus at fringilla. Etiam tempor magna suscipit pharetra hendrerit. Vivamus vel sem enim. Cras gravida mauris ac porttitor rhoncus. Sed feugiat felis sit amet arcu ullamcorper, id venenatis leo laoreet. Integer placerat est at risus feugiat tincidunt.</p>

        <p>Mauris ac ornare nulla, euismod bibendum purus. Proin semper dictum odio, quis dignissim massa fringilla at. Suspendisse tincidunt dignissim lacus, vel rutrum urna convallis euismod. Nunc id semper lorem. Vestibulum id commodo libero, sit amet cursus turpis. Ut et cursus sapien, ut ullamcorper elit. Etiam porta sagittis bibendum. Suspendisse laoreet aliquet augue a congue. Aliquam sed accumsan enim. Cras tristique pulvinar mollis. Proin pretium volutpat blandit. In hac habitasse platea dictumst.</p>
    apply_agreement_confirm:
      '#type': checkbox
      '#title': 'I agree'
      '#required': true
    actions_08:
      '#type': webform_actions
      '#title': 'Submit button(s)'
  apply_permit_type:
    '#type': webform_computed_twig
    '#title': 'Permit Type Required:'
    '#description': 'Defaults to Complex. When this form is ready to release, it will only be displayed at the end of the process. It is displayed here now for debugging purposes.'
    '#title_display': inline
    '#wrapper_attributes':
      style: 'color: gray; background-color: platinum; margin-top: 2rem;'
    '#template': |-
      {% set permit_type = "Complex (default)" %}
      {% if data.apply_why == "Moving or loading" %}

        {% if data.apply_parking_metered == "No" and data.apply_how_much_parking_to_reserve == "5 or less" and data.apply_duration == "Up to 7 days" %}
          {% set permit_type = "7-day" %}
        {% elseif data.apply_parking_metered == "No" and data.apply_how_much_parking_to_reserve == "More than 5..." %}
          {% set permit_type = "Simple" %}
        {% elseif data.apply_parking_metered == "Yes" or (data.apply_duration == "Up to 4 weeks" or data.apply_duration == "Up to 6 months") %}
          {% set permit_type = "Simple" %}
        {% endif %}
        
      {% elseif data.apply_why == "Construction or utility work" %}

        {% if data.apply_entire_street == "Yes" and (data.apply_duration == "Up to 7 days" or data.apply_duration == "Up to 4 weeks") %}
          {% set permit_type = "Complex" %}
        {% elseif data.apply_entire_street == "Yes" and data.apply_duration == "Up to 6 months" %}
          {% set permit_type = "LT Complex" %}
        {% elseif data.apply_entire_street == "No" and webform_token('[webform_submission:values:apply_which_parts]', webform_submission, []) == "Parking space(s)" and data.apply_parking_metered == "No" and data.apply_duration == "Up to 7 days" %}
          {% set permit_type = "7-day" %}
        {% elseif data.apply_entire_street == "No" and webform_token('[webform_submission:values:apply_which_parts]', webform_submission, []) == "Parking space(s)" and data.apply_parking_metered == "Yes" and (data.apply_duration == "Up to 4 weeks" or data.apply_duration == "Up to 6 months") %}
          {% set permit_type = "Simple" %}
        {% elseif data.apply_entire_street == "No" and ("Travel lane(s), including car and/or bike lanes" in webform_token('[webform_submission:values:apply_which_parts]', webform_submission, []) or "Sidewalk" in webform_token('[webform_submission:values:apply_which_parts]', webform_submission, [])) and (data.apply_duration == "Up to 7 days" or data.apply_duration == "Up to 4 weeks") %}  
          {% set permit_type = "Complex" %}
        {% elseif data.apply_entire_street == "No" and ("Travel lane(s), including car and/or bike lanes" in webform_token('[webform_submission:values:apply_which_parts]', webform_submission, []) or "Sidewalk" in webform_token('[webform_submission:values:apply_which_parts]', webform_submission, [])) and data.apply_duration == "Up to 6 months" %}
          {% set permit_type = "LT Complex" %}
        {% endif %}

      {% endif %}
      {{ permit_type }}
    '#whitespace': trim
    '#hide_empty': true
    '#store': true
    '#ajax': true
css: ''
javascript: ''
settings:
  ajax: false
  ajax_scroll_top: form
  ajax_progress_type: ''
  ajax_effect: ''
  ajax_speed: null
  page: true
  page_submit_path: ''
  page_confirm_path: ''
  page_theme_name: ''
  form_title: source_entity_webform
  form_submit_once: false
  form_open_message: ''
  form_close_message: ''
  form_exception_message: ''
  form_previous_submissions: true
  form_confidential: false
  form_confidential_message: ''
  form_disable_remote_addr: false
  form_convert_anonymous: false
  form_prepopulate: false
  form_prepopulate_source_entity: false
  form_prepopulate_source_entity_required: false
  form_prepopulate_source_entity_type: ''
  form_unsaved: false
  form_disable_back: false
  form_submit_back: false
  form_disable_autocomplete: false
  form_novalidate: false
  form_disable_inline_errors: false
  form_required: true
  form_autofocus: false
  form_details_toggle: false
  form_reset: true
  form_access_denied: default
  form_access_denied_title: ''
  form_access_denied_message: ''
  form_access_denied_attributes: {  }
  form_file_limit: ''
  form_attributes: {  }
  form_method: ''
  form_action: ''
  share: false
  share_node: false
  share_theme_name: ''
  share_title: true
  share_page_body_attributes: {  }
  submission_label: ''
  submission_exception_message: ''
  submission_locked_message: ''
  submission_log: false
  submission_excluded_elements: {  }
  submission_exclude_empty: false
  submission_exclude_empty_checkbox: false
  submission_views: {  }
  submission_views_replace: {  }
  submission_user_columns: {  }
  submission_user_duplicate: false
  submission_access_denied: default
  submission_access_denied_title: ''
  submission_access_denied_message: ''
  submission_access_denied_attributes: {  }
  previous_submission_message: ''
  previous_submissions_message: ''
  autofill: false
  autofill_message: ''
  autofill_excluded_elements: {  }
  wizard_progress_bar: true
  wizard_progress_pages: false
  wizard_progress_percentage: false
  wizard_progress_link: true
  wizard_progress_states: false
  wizard_start_label: ''
  wizard_preview_link: false
  wizard_confirmation: true
  wizard_confirmation_label: ''
  wizard_auto_forward: true
  wizard_auto_forward_hide_next_button: false
  wizard_keyboard: true
  wizard_track: ''
  wizard_prev_button_label: '< Back'
  wizard_next_button_label: 'Next Page >'
  wizard_toggle: true
  wizard_toggle_show_label: ''
  wizard_toggle_hide_label: ''
  preview: 0
  preview_label: ''
  preview_title: ''
  preview_message: ''
  preview_attributes: {  }
  preview_excluded_elements: {  }
  preview_exclude_empty: true
  preview_exclude_empty_checkbox: false
  draft: none
  draft_multiple: false
  draft_auto_save: false
  draft_saved_message: ''
  draft_loaded_message: ''
  draft_pending_single_message: ''
  draft_pending_multiple_message: ''
  confirmation_type: page
  confirmation_url: ''
  confirmation_title: ''
  confirmation_message: ''
  confirmation_attributes: {  }
  confirmation_back: true
  confirmation_back_label: ''
  confirmation_back_attributes: {  }
  confirmation_exclude_query: false
  confirmation_exclude_token: false
  confirmation_update: false
  limit_total: null
  limit_total_interval: null
  limit_total_message: ''
  limit_total_unique: false
  limit_user: null
  limit_user_interval: null
  limit_user_message: ''
  limit_user_unique: false
  entity_limit_total: null
  entity_limit_total_interval: null
  entity_limit_user: null
  entity_limit_user_interval: null
  purge: all
  purge_days: 14
  results_disabled: false
  results_disabled_ignore: false
  results_customize: false
  token_view: false
  token_update: false
  token_delete: false
  serial_disabled: false
access:
  create:
    roles:
      - anonymous
      - authenticated
    users: {  }
    permissions: {  }
  view_any:
    roles: {  }
    users: {  }
    permissions: {  }
  update_any:
    roles: {  }
    users: {  }
    permissions: {  }
  delete_any:
    roles: {  }
    users: {  }
    permissions: {  }
  purge_any:
    roles: {  }
    users: {  }
    permissions: {  }
  view_own:
    roles: {  }
    users: {  }
    permissions: {  }
  update_own:
    roles: {  }
    users: {  }
    permissions: {  }
  delete_own:
    roles: {  }
    users: {  }
    permissions: {  }
  administer:
    roles: {  }
    users: {  }
    permissions: {  }
  test:
    roles: {  }
    users: {  }
    permissions: {  }
  configuration:
    roles: {  }
    users: {  }
    permissions: {  }
handlers: {  }
variants: {  }
