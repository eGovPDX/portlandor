uuid: 420b9fe2-9139-4ed7-adc5-c06d2bbf93fa
langcode: en
status: open
dependencies:
  module:
    - portland
    - portland_zendesk
third_party_settings:
  portland:
    disable_demographic_form_prompt: 0
    exclude_from_json: {  }
weight: 0
open: null
close: null
uid: 221
template: false
archive: false
id: transportation_wallet
title: 'Transportation Wallet'
description: ''
categories:
  - Utility
elements: |-
  page_wallet_choice:
    '#type': webform_wizard_page
    '#title': 'Choose your Wallet'
    '#states':
      invisible:
        ':input[name="choice_prefilled"]':
          '!value': ''
    '#states_clear': false
    section_wallet_choice:
      '#type': webform_section
      '#title': 'Choose your Wallet Option'
      markup_transportation_option_cards:
        '#type': webform_markup
        '#markup': '<div class="container p-0"><ol class="list-unstyled row row-cols-1 row-cols-md-2 row-cols-lg-3 g-4"><li class="col"><div class="card h-100"><h4 class="card-header card-header-opt-1">Option 1 — Transit for a Year</h4><div class="card-body d-flex flex-column"><ul class="ps-0"><li class="d-flex"><img class="me-2" width="48px" alt="" src="/sites/default/files/2024/Mode-Icons_RGB_TriMet_Full-Color.png"> <span><strong>Transit: </strong>A TriMet Honored Citizen 1-year Pass for unlimited rides</span></li></ul></div><div class="card-footer d-flex py-4"><p><img class="me-2" width="48px" height="48px" alt="" src="/sites/default/files/2024/PBOT_TW_OptionDemographicGraphics_24_0930_Honored-Citizen.png"></p><div><p><strong>This option is for: Individuals</strong> who have Honored Citizen Hop cards for transit</p><p class="mb-0"><em>(Seniors age 65+. People on Medicare, with disabilities, or who qualify based on income.)</em></p></div></div></div></li><li class="col"><div class="card h-100"><h4 class="card-header card-header-opt-2">Option 2 — All Modes</h4><div class="card-body d-flex flex-column"><ul class="ps-0"><li class="d-flex mb-4"><img class="me-2" width="48px" alt="" src="/sites/default/files/2024/Mode-Icons_RGB_TriMet_Full-Color.png"> <span><strong>Transit: </strong>$200 on your Hop Card</span></li><li class="d-flex mb-4"><img class="me-2" width="48px" alt="" src="/sites/default/files/2024/Mode-Icons_RGB_BIKETOWN_Full-Color.png"> <span><strong>BIKETOWN: </strong>BIKETOWN for All or Adaptive BIKETOWN</span></li><li class="d-flex"><img class="me-2" width="48px" alt="" src="/sites/default/files/2024/PBOT_TWApp_Mode-Icons_All-Colors-Default-and-Hover_Prepaid-Visa-Default.png"> <span><strong>Prepaid Visa card: </strong>$75 for transportation services</span></li></ul></div><div class="card-footer d-flex align-items-center py-4"><p><img class="me-2" width="48px" alt="" src="/sites/default/files/2024/PBOT_TW_OptionDemographicGraphics_24_0930_Individual.png"></p><p class="mb-0"><strong>This option is for: Individuals</strong></p></div></div></li><li class="col"><div class="card h-100"><h4 class="card-header card-header-opt-3">Option 3 — All Modes Household</h4><div class="card-body d-flex flex-column"><ul class="ps-0"><li class="d-flex mb-4"><img class="me-2" width="48px" alt="" src="/sites/default/files/2024/Mode-Icons_RGB_TriMet_Full-Color.png"> <span><strong>Transit: </strong>$200-$300 on your Hop Card</span></li><li class="d-flex mb-4"><img class="me-2" width="48px" alt="" src="/sites/default/files/2024/Mode-Icons_RGB_BIKETOWN_Full-Color.png"> <span><strong>BIKETOWN: </strong>BIKETOWN for All or Adaptive BIKETOWN</span></li><li class="d-flex"><img class="me-2" width="48px" alt="" src="/sites/default/files/2024/PBOT_TWApp_Mode-Icons_All-Colors-Default-and-Hover_Prepaid-Visa-Default.png"> <span><strong>Prepaid Visa card: </strong>$100-$175 for transportation services</span></li></ul></div><div class="card-footer d-flex align-items-center py-4"><p><img class="me-2" width="48px" alt="" src="/sites/default/files/2024/PBOT_TW_OptionDemographicGraphics_24_0930_Household.png"></p><p class="mb-0"><strong>This option is for: Households</strong> <em>(Multiple people at one address.)</em></p></div></div></li></ol></div>'
      apply_wallet_package:
        '#type': radios
        '#title': 'Which Transportation Wallet package would you like to sign up for?'
        '#prepopulate': true
        '#options':
          1: 'Option 1: Individual - TriMet Honored Citizen 1-year Pass'
          2: 'Option 2: Individual - Transit, BIKETOWN for All, and prepaid Visa card'
          3: 'Option 3: Household - Transit, BIKETOWN for All, and prepaid Visa card'
        '#required': true
  page_wallet_info:
    '#type': webform_wizard_page
    '#title': 'Wallet information'
    computed_selection:
      '#type': webform_computed_twig
      '#title': 'Computed Selection'
      '#title_display': none
      '#display_on': form
      '#mode': html
      '#template': |-
        {% set radios_options = {
          '1': 'Option 1: Individual - TriMet Honored Citizen 1-year Pass',
          '2': 'Option 2: Individual - Transit, BIKETOWN for All, and prepaid Visa card',
          '3': 'Option 3: Household - Transit, BIKETOWN for All, and prepaid Visa card'
        } %}
        <h2>{{ radios_options[data.apply_wallet_package] }}</h3>
        <p>&nbsp;</p>
    apply_household_size:
      '#type': select
      '#title': 'How many people are in your household? (include yourself in the count)'
      '#options':
        1: '1'
        2: '2'
        3: '3'
        4: '4'
        5: '5'
      '#required': true
      '#states':
        visible:
          ':input[name="apply_wallet_package"]':
            value: '3'
    section_hop_card_details:
      '#type': webform_section
      '#title': 'Your Hop card details'
      '#title_tag': h3
      '#states':
        visible:
          - ':input[name="apply_household_size"]':
              value:
                greater: '1'
          - or
          - ':input[name="apply_wallet_package"]':
              '!value': '3'
      '#attributes':
        id: member_1_container
      contact_first_name:
        '#type': textfield
        '#title': 'Your First Name'
        '#required': true
      contact_last_name:
        '#type': textfield
        '#title': 'Your Last Name'
        '#required': true
      apply_has_hop_card:
        '#type': radios
        '#title': 'Do you have a Hop card?'
        '#options':
          'No': 'No'
          'Yes': 'Yes'
        '#required': true
      apply_current_hop_card:
        '#type': radios
        '#title': 'What type of Hop card do you have?'
        '#options':
          'Adult Hop card': 'Adult Hop card -- <img width="200px" src="https://www.portland.gov/sites/default/files/2024/fares-hopcard-adult.png" />'
          'Honored Citizen Hop card': 'Honored Citizen Hop card -- <img width="200px" src="https://www.portland.gov/sites/default/files/2024/fares-hopcard-honored.png" />'
          'Personalized Honored Citizen Hop card': 'Personalized Honored Citizen Hop card -- <img width="200px" src="https://www.portland.gov/sites/default/files/2024/fares-hopcard-honored-photoid.png" />'
          'TriMet LIFT Hop card': 'TriMet LIFT Hop card -- <img width="200px" src="https://www.portland.gov/sites/default/files/2024/fares-hopcard-lift.png" />'
        '#required': true
        '#states':
          visible:
            ':input[name="apply_has_hop_card"]':
              value: 'Yes'
            ':input[name="apply_wallet_package"]':
              value: '1'
      apply_hop_card_number:
        '#type': textfield
        '#title': 'Please enter your 16-digit Hop card number'
        '#maxlength': 16
        '#input_mask': '9{0,16}'
        '#pattern': '^[0-9]{16}$'
        '#pattern_error': 'Hop card number must be 16 digits.'
        '#attributes':
          inputmode: numeric
        '#states':
          required:
            ':input[name="apply_has_hop_card"]':
              value: 'Yes'
          visible:
            - ':input[name="apply_current_hop_card"]':
                value: 'Honored Citizen Hop card'
            - or
            - ':input[name="apply_current_hop_card"]':
                value: 'Personalized Honored Citizen Hop card'
            - or
            - ':input[name="apply_wallet_package"]':
                value: '2'
              ':input[name="apply_has_hop_card"]':
                value: 'Yes'
            - or
            - ':input[name="apply_wallet_package"]':
                value: '3'
              ':input[name="apply_has_hop_card"]':
                value: 'Yes'
      apply_hop_card_needed:
        '#type': radios
        '#title': 'What type of Hop card do you need?'
        '#options':
          'I need an Adult Hop card (18+)': 'I need an Adult Hop card (18+)'
          'I need an Honored Citizen Hop Card (66+)': 'I need an Honored Citizen Hop Card (66+)'
          'I need a Low-Income Reduced Fare Hop card and will email the Hop card number when I receive it': 'I need a Low-Income Reduced Fare Hop card and will email the Hop card number when I receive it'
        '#required': true
        '#states':
          visible:
            ':input[name="apply_has_hop_card"]':
              value: 'No'
      markup_email_hc:
        '#type': webform_markup
        '#states':
          visible:
            ':input[name="apply_wallet_package"]':
              value: '2'
            ':input[name="apply_hop_card_needed"]':
              value: 'I need a Low-Income Reduced Fare Hop card and will email the Hop card number when I receive it'
        '#markup': '<div class="alert alert--info next-steps"><h2>Important</h2><p>Once you receive your Hop card, you must email the 16-digit Hop card number to <a href="mailto:wallet@portlandoregon.gov">wallet@portlandoregon.gov</a>.</p></div>'
      container_honored_citizen:
        '#type': container
        markup_honored_citizen_criteria:
          '#type': webform_markup
          '#states':
            visible:
              - ':input[name="apply_current_hop_card"]':
                  value: 'Adult Hop card'
              - xor
              - ':input[name="apply_wallet_package"]':
                  value: '1'
                ':input[name="apply_hop_card_needed"]':
                  value: 'I need a Low-Income Reduced Fare Hop card and will email the Hop card number when I receive it'
              - xor
              - ':input[name="apply_wallet_package"]':
                  value: '1'
                ':input[name="apply_hop_card_needed"]':
                  value: 'I need an Adult Hop card (18+)'
          '#admin_title': 'Next Steps'
          '#markup': '<div class="alert alert--info next-steps"><h2>Next Steps</h2><p>In order to receive a TriMet Honored Citizen 1-year Pass through Transportation Wallet, you must have a Personalized Honored Citizen TriMet Hop card. Please complete the following steps to ensure that your registration is complete.<br><br>1. Continue filling out this form so that we have your information.<br>2. Apply for your <a href="https://trimet.org/income/application.htm" target="_blank">Honored Citizen Hop card</a> as soon as possible.<br>3. Once you have received your Honored Citizen Hop card, email <a href="mailto:wallet@portlandoregon.gov" target="_blank">wallet@portlandoregon.gov</a> &nbsp;with your Hop card number so your annual pass can be added to it.</p></div>'
        apply_next_steps_choice:
          '#type': radios
          '#title': 'How would you like to proceed?'
          '#options':
            'I will apply for a Low Income Honored Citizen Photo ID Hop Card and then email Transportation Wallet staff with the card number.': 'I will apply for a Low Income Honored Citizen Photo ID Hop Card and then email Transportation Wallet staff with the card number.'
            'I want to start over and select Option 2 ($200 Hop Card, BIKETOWN for All, and $75 prepaid Visa card).': 'I want to start over and select Option 2 ($200 Hop Card, BIKETOWN for All, and $75 prepaid Visa card).'
          '#required': true
          '#states':
            visible:
              - ':input[name="apply_current_hop_card"]':
                  value: 'Adult Hop card'
              - xor
              - ':input[name="apply_wallet_package"]':
                  value: '1'
                ':input[name="apply_hop_card_needed"]':
                  value: 'I need a Low-Income Reduced Fare Hop card and will email the Hop card number when I receive it'
              - xor
              - ':input[name="apply_wallet_package"]':
                  value: '1'
                ':input[name="apply_hop_card_needed"]':
                  value: 'I need an Adult Hop card (18+)'
        apply_trimet_lift_is_yes:
          '#type': radios
          '#title': 'Unfortunately, we are unable to load the Honored Citizen 1-year Pass to a TriMet LIFT Hop card. What would you like to do?'
          '#options':
            'I will apply for a Personalized Honored Citizen Hop card and will email Transportation Wallet staff the Hop card number when I receive it. We will issue the Honored Citizen 1-year pass but it can only be used on regular TriMet, not TriMet LIFT': 'I will apply for a Personalized Honored Citizen Hop card and will email Transportation Wallet staff the Hop card number when I receive it. We will issue the Honored Citizen 1-year pass but it can only be used on regular TriMet, not TriMet LIFT'
            'I want to start over and select Option 2. We can load the $200 on your TriMet LIFT Hop Card.': 'I want to start over and select Option 2. We can load the $200 on your TriMet LIFT Hop Card.'
          '#required': true
          '#states':
            visible:
              ':input[name="apply_current_hop_card"]':
                value: 'TriMet LIFT Hop card'
        markup_switch_button:
          '#type': webform_markup
          '#states':
            visible:
              - ':input[name="apply_trimet_lift_is_yes"]':
                  value: 'I want to start over and select Option 2. We can load the $200 on your TriMet LIFT Hop Card.'
              - or
              - ':input[name="apply_next_steps_choice"]':
                  value: 'I want to start over and select Option 2 ($200 Hop Card, BIKETOWN for All, and $75 prepaid Visa card).'
          '#admin_title': 'Switch Button'
          '#markup': '<a class="btn btn-primary" href="?">Start Over</a>'
    markup_household_size_1:
      '#type': webform_markup
      '#states':
        visible:
          ':input[name="apply_household_size"]':
            value: '1'
      '#admin_title': 'Next Steps'
      '#markup': '<div class="alert alert--info next-steps"><h2>Next Steps</h2><p><strong>Option 3 (All Modes Household)</strong> is only for households of multiple people at one address. If you''re only applying for yourself, you must start over and switch to <strong>Option 2 (All Modes).</strong></p></div><br><a class="btn btn-primary" href="?">Start Over</a>'
    section_additional_household_members:
      '#type': webform_section
      '#title': 'Additional household members'
      '#title_display': invisible
      '#states':
        visible:
          ':input[name="apply_wallet_package"]':
            value: '3'
          ':input[name="apply_household_size"]':
            value:
              greater: '1'
      section_household_member_2:
        '#type': webform_section
        '#title': 'Household Member 2'
        '#title_tag': h3
        '#attributes':
          id: member_2_container
        first_name_2:
          '#type': textfield
          '#title': 'First Name'
          '#required': true
        last_name_2:
          '#type': textfield
          '#title': 'Last Name'
          '#required': true
        has_hop_card_2:
          '#type': radios
          '#title': 'Does this person have a Hop card?'
          '#description': '<p>Children under the age of 7 do not need to pay a fare.</p>'
          '#description_display': before
          '#options':
            'YES, this person has a Hop card': 'YES, this person has a Hop card'
            'No, this person needs an Adult Hop card (18+)': 'No, this person needs an Adult Hop card (18+)'
            'No, this person needs an Honored Citizen Hop Card (66+)': 'No, this person needs an Honored Citizen Hop Card (66+)'
            'No, this person needs a Low-Income Reduced Fare Hop card': 'No, this person needs a Low-Income Reduced Fare Hop card'
            'This person does not need a Hop card': 'This person does not need a Hop card'
          '#other__option_label': ''
          '#other__title': ''
          '#other__placeholder': ''
          '#other__maxlength': ''
          '#required': true
          '#other__input_mask': '9{0,16}'
          '#other__pattern': '^[0-9]{16}$'
          '#other__pattern_error': 'Hop card number must be 16 digits.'
          '#other__attributes':
            '#inputmode': numeric
        hop_card_number_2:
          '#type': textfield
          '#title': '16-digit Hop card number'
          '#input_mask': '9{0,16}'
          '#pattern': '^[0-9]{16}$'
          '#pattern_error': 'Hop card number must be 16 digits.'
          '#counter_type': character
          '#counter_minimum': 16
          '#counter_maximum': 16
          '#states':
            visible:
              ':input[name="has_hop_card_2"]':
                value: 'YES, this person has a Hop card'
          '#required': true
        needs_biketown:
          '#type': checkbox
          '#title': 'This person needs a <strong>BIKETOWN for All</strong> membership'
          '#wrapper_attributes':
            class:
              - pt-2
              - border-top
      section_household_member_3:
        '#type': webform_section
        '#title': 'Household Member 3'
        '#title_tag': h3
        '#states':
          visible:
            ':input[name="apply_household_size"]':
              value:
                greater_equal: '3'
        '#attributes':
          id: member_3_container
        first_name_3:
          '#type': textfield
          '#title': 'First Name'
          '#required': true
        last_name_3:
          '#type': textfield
          '#title': 'Last Name'
          '#required': true
        has_hop_card_3:
          '#type': radios
          '#title': 'Does this person have a Hop card?'
          '#description': '<p>Children under the age of 7 do not need to pay a fare.</p>'
          '#description_display': before
          '#options':
            'YES, this person has a Hop card': 'YES, this person has a Hop card'
            'No, this person needs an Adult Hop card (18+)': 'No, this person needs an Adult Hop card (18+)'
            'No, this person needs an Honored Citizen Hop Card (66+)': 'No, this person needs an Honored Citizen Hop Card (66+)'
            'No, this person needs a Low-Income Reduced Fare Hop card': 'No, this person needs a Low-Income Reduced Fare Hop card'
            'This person does not need a Hop card': 'This person does not need a Hop card'
          '#other__option_label': ''
          '#other__title': ''
          '#other__placeholder': ''
          '#other__maxlength': ''
          '#required': true
          '#other__input_mask': '9{0,16}'
          '#other__pattern': '^[0-9]{16}$'
          '#other__pattern_error': 'Hop card number must be 16 digits.'
          '#other__attributes':
            '#inputmode': numeric
        hop_card_number_3:
          '#type': textfield
          '#title': '16-digit Hop card number'
          '#input_mask': '9{0,16}'
          '#pattern': '^[0-9]{16}$'
          '#pattern_error': 'Hop card number must be 16 digits.'
          '#counter_type': character
          '#counter_minimum': 16
          '#counter_maximum': 16
          '#states':
            visible:
              ':input[name="has_hop_card_3"]':
                value: 'YES, this person has a Hop card'
          '#required': true
        needs_biketown_3:
          '#type': checkbox
          '#title': 'This person needs a <strong>BIKETOWN for All</strong> membership'
          '#wrapper_attributes':
            class:
              - pt-2
              - border-top
      section_household_member_4:
        '#type': webform_section
        '#title': 'Household Member 4'
        '#title_tag': h3
        '#states':
          visible:
            ':input[name="apply_household_size"]':
              value:
                greater_equal: '4'
        '#attributes':
          id: member_4_container
        first_name_4:
          '#type': textfield
          '#title': 'First Name'
          '#required': true
        last_name_4:
          '#type': textfield
          '#title': 'Last Name'
          '#required': true
        has_hop_card_4:
          '#type': radios
          '#title': 'Does this person have a Hop card?'
          '#description': '<p>Children under the age of 7 do not need to pay a fare.</p>'
          '#description_display': before
          '#options':
            'YES, this person has a Hop card': 'YES, this person has a Hop card'
            'No, this person needs an Adult Hop card (18+)': 'No, this person needs an Adult Hop card (18+)'
            'No, this person needs an Honored Citizen Hop Card (66+)': 'No, this person needs an Honored Citizen Hop Card (66+)'
            'No, this person needs a Low-Income Reduced Fare Hop card': 'No, this person needs a Low-Income Reduced Fare Hop card'
            'This person does not need a Hop card': 'This person does not need a Hop card'
          '#other__option_label': ''
          '#other__title': ''
          '#other__placeholder': ''
          '#other__maxlength': ''
          '#required': true
          '#other__input_mask': '9{0,16}'
          '#other__pattern': '^[0-9]{16}$'
          '#other__pattern_error': 'Hop card number must be 16 digits.'
          '#other__attributes':
            '#inputmode': numeric
        hop_card_number_4:
          '#type': textfield
          '#title': '16-digit Hop card number'
          '#input_mask': '9{0,16}'
          '#pattern': '^[0-9]{16}$'
          '#pattern_error': 'Hop card number must be 16 digits.'
          '#counter_type': character
          '#counter_minimum': 16
          '#counter_maximum': 16
          '#states':
            visible:
              ':input[name="has_hop_card_4"]':
                value: 'YES, this person has a Hop card'
          '#required': true
        needs_biketown_4:
          '#type': checkbox
          '#title': 'This person needs a <strong>BIKETOWN for All</strong> membership'
          '#wrapper_attributes':
            class:
              - pt-2
              - border-top
      section_household_member_5:
        '#type': webform_section
        '#title': 'Household Member 5'
        '#title_tag': h3
        '#states':
          visible:
            ':input[name="apply_household_size"]':
              value:
                greater_equal: '5'
        '#attributes':
          id: member_5_container
        first_name_5:
          '#type': textfield
          '#title': 'First Name'
          '#required': true
        last_name_5:
          '#type': textfield
          '#title': 'Last Name'
          '#required': true
        has_hop_card_5:
          '#type': radios
          '#title': 'Does this person have a Hop card?'
          '#description': '<p>Children under the age of 7 do not need to pay a fare.</p>'
          '#description_display': before
          '#options':
            'YES, this person has a Hop card': 'YES, this person has a Hop card'
            'No, this person needs an Adult Hop card (18+)': 'No, this person needs an Adult Hop card (18+)'
            'No, this person needs an Honored Citizen Hop Card (66+)': 'No, this person needs an Honored Citizen Hop Card (66+)'
            'No, this person needs a Low-Income Reduced Fare Hop card': 'No, this person needs a Low-Income Reduced Fare Hop card'
            'This person does not need a Hop card': 'This person does not need a Hop card'
          '#other__option_label': ''
          '#other__title': ''
          '#other__placeholder': ''
          '#other__maxlength': ''
          '#required': true
          '#other__input_mask': '9{0,16}'
          '#other__pattern': '^[0-9]{16}$'
          '#other__pattern_error': 'Hop card number must be 16 digits.'
          '#other__attributes':
            '#inputmode': numeric
        hop_card_number_5:
          '#type': textfield
          '#title': '16-digit Hop card number'
          '#input_mask': '9{0,16}'
          '#pattern': '^[0-9]{16}$'
          '#pattern_error': 'Hop card number must be 16 digits.'
          '#counter_type': character
          '#counter_minimum': 16
          '#counter_maximum': 16
          '#states':
            visible:
              ':input[name="has_hop_card_5"]':
                value: 'YES, this person has a Hop card'
          '#required': true
        needs_biketown_5:
          '#type': checkbox
          '#title': 'This person needs a <strong>BIKETOWN for All</strong> membership'
          '#wrapper_attributes':
            class:
              - pt-2
              - border-top
      markup_01:
        '#type': webform_markup
        '#markup': '<div class="alert alert--info next-steps"><h2>Important</h2><p>If you requested an Honored Citizen or Low-Income Reduced Fare Hop card for any household members, you must you must email the 16-digit Hop card number to <a href="mailto:wallet@portlandoregon.gov">wallet@portlandoregon.gov</a> once they receive the card.</p></div>'
    container_wizard_buttons:
      '#type': container
      '#states':
        invisible:
          - ':input[name="apply_household_size"]':
              value: '1'
          - or
          - ':input[name="apply_trimet_lift_is_yes"]':
              value: 'I want to start over and select Option 2. We can load the $200 on your TriMet LIFT Hop Card.'
          - or
          - ':input[name="apply_next_steps_choice"]':
              value: 'I want to start over and select Option 2 ($200 Hop Card, BIKETOWN for All, and $75 prepaid Visa card).'
      actions_wizard_prev:
        '#type': webform_actions
        '#title': 'Previous Button'
        '#attributes':
          style: 'display: inline-block;'
        '#submit_hide': true
        '#reset_hide': true
        '#update_hide': true
        '#wizard_next_hide': true
      actions_wizard_next:
        '#type': webform_actions
        '#title': 'Next Button'
        '#attributes':
          style: 'display: inline-block;'
        '#submit_hide': true
        '#reset_hide': true
        '#update_hide': true
        '#wizard_prev_hide': true
  page_funds_distribution:
    '#type': webform_wizard_page
    '#title': 'Funds Distribution'
    '#states':
      visible:
        ':input[name="apply_household_size"]':
          value:
            greater_equal: '2'
    computed_household_total_funds:
      '#type': webform_computed_twig
      '#title': 'Available Funds'
      '#title_display': none
      '#wrapper_attributes':
        class:
          - d-none
      '#display_on': form
      '#mode': text
      '#template': |-
        {% set total = 200 %}
        {% if data.apply_household_size == 2 %}
          {% set total = 225 %}
        {% elseif data.apply_household_size == 3 %}
          {% set total = 250 %}
        {% elseif data.apply_household_size == 4 %}
          {% set total = 275 %}
        {% elseif data.apply_household_size == 5 %}
          {% set total = 300 %}
        {% endif %}
        {{ total }}
      '#whitespace': trim
      '#ajax': true
    computed_even_split_amount:
      '#type': webform_computed_twig
      '#title': 'Computed even split amount'
      '#display_on': view
      '#mode': text
      '#template': |-
        {% if data.apply_household_size and data.computed_household_total_funds %}
        {{ (data.apply_household_size / data.computed_household_total_funds)|round(2, 'common')|number_format(2, '.', ',') }}
        {% endif %}
      '#whitespace': trim
      '#ajax': true
    computed_available_funds_display:
      '#type': webform_computed_twig
      '#title': 'Available Funds Display'
      '#title_display': none
      '#display_on': form
      '#mode': text
      '#template': '<p><strong>You have ${{ data.computed_household_total_funds }} available to divide between {{ data.apply_household_size }} household members.</strong></p>'
      '#whitespace': spaceless
      '#ajax': true
    apply_funds_split:
      '#type': radios
      '#title': 'How would you like to split it?'
      '#options':
        'Evenly among all members': 'Evenly among all members'
        'Custom split...': 'Custom split...'
      '#required': true
      '#default_value': 'Evenly among all members'
    funds_per_card:
      '#type': webform_computed_twig
      '#title': 'Funds per card'
      '#title_display': none
      '#states':
        visible:
          ':input[name="apply_funds_split"]':
            value: 'Evenly among all members'
      '#display_on': form
      '#mode': html
      '#template': |
        {% if data.apply_household_size and data.apply_household_size %}
          <p>${{ (data.computed_household_total_funds / data.apply_household_size)|round(2, 'common')|number_format(2, '.', ',') }} will be put on each card.</p>
        {% endif %}
      '#whitespace': trim
      '#ajax': true
    markup_custom_split_help:
      '#type': webform_markup
      '#states':
        visible:
          ':input[name="apply_funds_split"]':
            value: 'Custom split'
      '#markup': '<p>Please enter a custom amount for each household member below. Do not exceed the available amount.</p>'
    container_distrubution:
      '#type': container
      '#states':
        visible:
          ':input[name="apply_funds_split"]':
            value: 'Custom split...'
      container_member1:
        '#type': container
        '#attributes':
          class:
            - px-4
            - border
            - border-dark
        computed_name_member_1:
          '#type': webform_computed_twig
          '#title': You
          '#display_on': form
          '#mode': text
          '#template': '{{ data.contact_first_name }} {{ data.contact_last_name }}'
          '#whitespace': trim
        funds_member_1:
          '#type': textfield
          '#title': 'How much should we put on your card?'
          '#field_prefix': $
          '#maxlength': 3
          '#size': 10
          '#required': true
      container_member2:
        '#type': container
        '#attributes':
          class:
            - px-4
            - border
            - border-dark
        computed_name_member_2:
          '#type': webform_computed_twig
          '#title': 'Household member #2'
          '#display_on': form
          '#mode': text
          '#template': '{{ data.first_name_2 }} {{ data.last_name_2 }}'
          '#whitespace': trim
          '#ajax': true
        funds_member_2:
          '#type': textfield
          '#title': 'How much should we put on this card?'
          '#field_prefix': $
          '#maxlength': 3
          '#size': 10
          '#required': true
      container_member3:
        '#type': container
        '#states':
          visible:
            ':input[name="apply_household_size"]':
              value:
                greater_equal: '3'
        '#attributes':
          class:
            - px-4
            - border
            - border-dark
        computed_name_member_3:
          '#type': webform_computed_twig
          '#title': 'Household member #3'
          '#display_on': form
          '#mode': text
          '#template': '{{ data.first_name_3 }} {{ data.last_name_3 }}'
          '#whitespace': trim
          '#ajax': true
        funds_member_3:
          '#type': textfield
          '#title': 'How much should we put on this card?'
          '#field_prefix': $
          '#maxlength': 3
          '#size': 10
          '#required': true
      container_member4:
        '#type': container
        '#states':
          visible:
            ':input[name="apply_household_size"]':
              value:
                greater_equal: '4'
        '#attributes':
          class:
            - px-4
            - border
            - border-dark
        computed_name_member_4:
          '#type': webform_computed_twig
          '#title': 'Household member #4'
          '#display_on': form
          '#mode': text
          '#template': '{{ data.first_name_4 }} {{ data.last_name_4 }}'
          '#whitespace': trim
        funds_member_4:
          '#type': textfield
          '#title': 'How much should we put on this card?'
          '#field_prefix': $
          '#maxlength': 3
          '#size': 10
          '#required': true
      container_member5:
        '#type': container
        '#states':
          visible:
            ':input[name="apply_household_size"]':
              value:
                greater_equal: '5'
        '#attributes':
          class:
            - px-4
            - border
            - border-dark
        computed_name_member_5:
          '#type': webform_computed_twig
          '#title': 'Household member #5'
          '#display_on': form
          '#mode': text
          '#template': '{{ data.first_name_5 }} {{ data.last_name_5 }}'
          '#whitespace': trim
        funds_member_5:
          '#type': textfield
          '#title': 'How much should we put on this card?'
          '#field_prefix': $
          '#maxlength': 3
          '#size': 10
          '#required': true
      computed_remaining_amount:
        '#type': webform_computed_twig
        '#title': 'Remaining amount'
        '#title_display': none
        '#wrapper_attributes':
          class:
            - d-none
        '#display_on': form
        '#mode': text
        '#template': '{{ (data.computed_household_total_funds|number_format) - (data.funds_member_1|number_format + data.funds_member_2|number_format + data.funds_member_3|number_format + data.funds_member_4|number_format + data.funds_member_5|number_format) }}'
        '#whitespace': trim
        '#ajax': true
      computed_remaining_amount_message:
        '#type': webform_computed_twig
        '#title': 'Remaining amount message'
        '#title_display': none
        '#display_on': form
        '#mode': html
        '#template': |-
          <span class="{{ data.computed_remaining_amount != 0 ? "text-danger" : "" }}">
          {% if data.computed_remaining_amount < 0 %}
            You've allocated ${{ data.computed_remaining_amount * -1 }} too much. Before continuing, please make sure the total amount for all household members equals ${{ data.computed_household_total_funds }}.
          {% elseif data.computed_remaining_amount > 0 %}
            You have ${{ data.computed_remaining_amount }} remaining to allocate between {{ data.apply_household_size }} household members before you can continue.
          {% else %}
            You've allocated ${{ data.funds_member_1|number_format(2, '.', '')|replace({',': ''}) + data.funds_member_2|number_format(2, '.', '')|replace({',': ''}) + data.funds_member_3|number_format(2, '.', '')|replace({',': ''}) + data.funds_member_4|number_format(2, '.', '')|replace({',': ''}) + data.funds_member_5|number_format(2, '.', '')|replace({',': ''}) }} out of ${{ data.computed_household_total_funds }}.
          {% endif %}
          </span>
        '#ajax': true
    actions_01:
      '#type': webform_actions
      '#title': 'Previous Button'
      '#attributes':
        style: 'display: inline-block;'
      '#submit_hide': true
      '#update_hide': true
      '#wizard_prev__label': '< Previous Page'
      '#wizard_next_hide': true
    actions_02:
      '#type': webform_actions
      '#title': 'Next Button'
      '#states':
        enabled:
          ':input[name="computed_remaining_amount"]':
            '!value': '0'
          ':input[name="apply_funds_split"]':
            value: 'Custom split...'
      '#attributes':
        style: 'display: inline-block;'
      '#submit_hide': true
      '#update_hide': true
      '#wizard_prev_hide': true
      '#wizard_next__label': 'Next Page >'
  page_contact:
    '#type': webform_wizard_page
    '#title': 'Contact information'
    computed_selection_copy_1:
      '#type': webform_computed_twig
      '#title': 'Computed Selection'
      '#title_display': none
      '#display_on': form
      '#mode': html
      '#template': |-
        {% set radios_options = {
          '1': 'Option 1: Individual - TriMet Honored Citizen 1-year Pass',
          '2': 'Option 2: Individual - Transit, BIKETOWN for All, and prepaid Visa card',
          '3': 'Option 3: Household - Transit, BIKETOWN for All, and prepaid Visa card'
        } %}
        <h2>{{ radios_options[data.apply_wallet_package] }}</h3>
        <p>&nbsp;</p>
    section_contact:
      '#type': webform_section
      '#title': 'Your contact information'
      '#title_tag': h3
      computed_name:
        '#type': webform_computed_twig
        '#title': 'Your Name'
        '#display_on': form
        '#mode': html
        '#template': '<strong class="h3">{{ data.contact_first_name }} {{ data.contact_last_name }}</strong>'
        '#whitespace': trim
      contact_email:
        '#type': textfield
        '#title': Email
        '#description': '<p>We will use your email to confirm your submission and respond if necessary.</p>'
        '#required': true
        '#pattern': '^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$'
        '#pattern_error': 'Please enter a correctly formatted email address, such as myname@example.com.'
      contact_phone:
        '#type': textfield
        '#title': Phone
        '#description': 'Please provide your phone number in case we need additional information.'
        '#input_mask': '(999) 999-9999'
        '#required': true
      apply_date_of_birth:
        '#type': date
        '#title': 'What is your date of birth? (MM/DD/YYYY)'
        '#description': '<p>Must be 18 years or older.</p>'
        '#required': true
        '#states':
          visible:
            ':input[name="apply_wallet_package"]':
              '!value': '1'
        '#date_date_max': '18 years ago'
        '#date_date_format': m/d/Y
      contact_address_verifier:
        '#type': portland_address_verifier
        '#title': Address
        '#required': true
        '#location_address__required': true
      apply_final_questions_text:
        '#type': textarea
        '#title': 'Do you have questions about the Transportation Wallet? Please leave questions or comments in the field below and we will do our best to respond to you.'
      computed_full_name:
        '#type': webform_computed_twig
        '#title': 'Computed Full Name'
        '#title_display': none
        '#display_on': none
        '#mode': text
        '#template': '{{ data.contact_first_name }} {{ data.contact_last_name }}'
        '#whitespace': trim
    section_optional_survey:
      '#type': webform_section
      '#title': 'A few more questions (optional survey)'
      apply_transit_frequency:
        '#type': webform_likert
        '#title': 'How often do you use the following transportation modes?'
        '#questions':
          'Transit - Bus, MAX, Streetcar': 'Transit - Bus, MAX, Streetcar'
          Biking: Biking
          'BIKETOWN for All (bike-share)': 'BIKETOWN for All (bike-share)'
          E-Scooter: E-Scooter
          Walking: Walking
          Driving: Driving
          'Taxi, Uber, or Lyft': 'Taxi, Uber, or Lyft'
        '#answers':
          Never: Never
          Monthly: Monthly
          Daily: Daily
          Weekly: Weekly
        '#sticky': false
        '#table__attributes':
          class:
            - 'table table-bordered'
      apply_how_affordable_scale:
        '#type': webform_scale
        '#title': 'On a scale of 1-5, how affordable is your current method of transportation?'
        '#min_text': 'The cost of my current transportation is too high and I cannot afford it.'
        '#max_text': 'The cost of my current method of transportation is very easy for me to afford.'
      apply_travel_experience_text:
        '#type': textarea
        '#title': 'Anything else you want to tell us about your experience traveling in Portland?'
  apply_org:
    '#type': hidden
    '#title': 'Organization Name'
    '#prepopulate': true
  choice_prefilled:
    '#type': hidden
    '#title': 'Choice Prefilled (skips first page)'
    '#prepopulate': true
  request_ticket_id:
    '#type': hidden
    '#title': 'Request Ticket Id'
  support_agent_use_only:
    '#type': portland_support_agent_widget
    '#title': 'Support Agent Use Only'
    '#access_create_roles':
      - authenticated
    '#escalate_issue__access': false
css: ".webform-multiple-table table {\r\n    width: inherit !important;\r\n}\r\n\r\n.webform-multiple-table tbody tr:hover,\r\n.webform-multiple-table tbody tr:focus {\r\n    background: inherit !important;\r\n}\r\n\r\n.webform-scale {\r\n    margin-top: 0.5rem;\r\n    width: 100%;\r\n}\r\n\r\n.webform-scale .webform-scale-options {\r\n    display: flex;\r\n    justify-content: space-around;\r\n    margin: 0 2rem;\r\n}\r\n\r\n.webform-scale .webform-scale-option label {\r\n    line-height: inherit !important;\r\n}\r\n\r\n.webform-scale .webform-scale-text {\r\n    display: flex;\r\n    justify-content: space-between;\r\n    height: unset;\r\n    line-height: unset;\r\n}\r\n\r\n.webform-scale .webform-scale-text-min, .webform-scale .webform-scale-text-max {\r\n    position: unset;\r\n    width: 25%;\r\n    text-align: center !important;\r\n}\r\n\r\n.card-header.card-header-opt-1 {\r\n    background: rgba(240, 92, 73, 0.33);\r\n}\r\n\r\n.card-header.card-header-opt-2 {\r\n    background: rgba(124, 66, 118, 0.33);\r\n}\r\n\r\n.card-header.card-header-opt-3 {\r\n    background: rgba(0, 160, 174, 0.33);\r\n}\r\n\r\n#member_2_container, #member_3_container, #member_4_container, #member_5_container {\r\n  border: 1px solid black;\r\n  padding: 15px 15px 0 15px;\r\n  margin-bottom: 5px;\r\n}\r\n\r\ndiv.form-disabled input[type=submit] { \r\n  color: white; cursor: not-allowed; \r\n}\r\n\r\n.webform-submission-transportation-wallet-form .form-text {\r\n  display: inline-block;\r\n}"
javascript: ''
settings:
  ajax: true
  ajax_scroll_top: form
  ajax_progress_type: ''
  ajax_effect: none
  ajax_speed: 0
  page: true
  page_submit_path: ''
  page_confirm_path: ''
  page_theme_name: ''
  form_title: source_entity_webform
  form_submit_once: false
  form_open_message: ''
  form_close_message: ''
  form_exception_message: ''
  form_previous_submissions: true
  form_confidential: false
  form_confidential_message: ''
  form_disable_remote_addr: false
  form_convert_anonymous: false
  form_prepopulate: false
  form_prepopulate_source_entity: false
  form_prepopulate_source_entity_required: false
  form_prepopulate_source_entity_type: ''
  form_unsaved: false
  form_disable_back: false
  form_submit_back: true
  form_disable_autocomplete: false
  form_novalidate: false
  form_disable_inline_errors: false
  form_required: false
  form_autofocus: false
  form_details_toggle: false
  form_reset: false
  form_access_denied: default
  form_access_denied_title: ''
  form_access_denied_message: ''
  form_access_denied_attributes: {  }
  form_file_limit: ''
  form_attributes: {  }
  form_method: ''
  form_action: ''
  share: false
  share_node: false
  share_theme_name: ''
  share_title: true
  share_page_body_attributes: {  }
  submission_label: ''
  submission_exception_message: ''
  submission_locked_message: ''
  submission_log: false
  submission_excluded_elements: {  }
  submission_exclude_empty: false
  submission_exclude_empty_checkbox: false
  submission_views: {  }
  submission_views_replace: {  }
  submission_user_columns: {  }
  submission_user_duplicate: false
  submission_access_denied: default
  submission_access_denied_title: ''
  submission_access_denied_message: ''
  submission_access_denied_attributes: {  }
  previous_submission_message: ''
  previous_submissions_message: ''
  autofill: false
  autofill_message: ''
  autofill_excluded_elements: {  }
  wizard_progress_bar: true
  wizard_progress_pages: false
  wizard_progress_percentage: false
  wizard_progress_link: true
  wizard_progress_states: true
  wizard_start_label: ''
  wizard_preview_link: false
  wizard_confirmation: true
  wizard_confirmation_label: Done
  wizard_auto_forward: true
  wizard_auto_forward_hide_next_button: false
  wizard_keyboard: true
  wizard_track: name
  wizard_prev_button_label: ''
  wizard_next_button_label: ''
  wizard_toggle: false
  wizard_toggle_show_label: ''
  wizard_toggle_hide_label: ''
  wizard_page_type: container
  wizard_page_title_tag: h2
  preview: 0
  preview_label: ''
  preview_title: ''
  preview_message: ''
  preview_attributes: {  }
  preview_excluded_elements: {  }
  preview_exclude_empty: true
  preview_exclude_empty_checkbox: false
  draft: none
  draft_multiple: false
  draft_auto_save: false
  draft_saved_message: ''
  draft_loaded_message: ''
  draft_pending_single_message: ''
  draft_pending_multiple_message: ''
  confirmation_type: page
  confirmation_url: ''
  confirmation_title: ''
  confirmation_message: '<p>Thank you for completing the Transportation Wallet: Access for All registration form. Once your application is complete, we will fulfill your Wallet within approximately 10 business days.&nbsp;</p>'
  confirmation_attributes: {  }
  confirmation_back: false
  confirmation_back_label: ''
  confirmation_back_attributes: {  }
  confirmation_exclude_query: false
  confirmation_exclude_token: false
  confirmation_update: false
  limit_total: null
  limit_total_interval: null
  limit_total_message: ''
  limit_total_unique: false
  limit_user: null
  limit_user_interval: null
  limit_user_message: ''
  limit_user_unique: false
  entity_limit_total: null
  entity_limit_total_interval: null
  entity_limit_user: null
  entity_limit_user_interval: null
  purge: none
  purge_days: null
  results_disabled: false
  results_disabled_ignore: false
  results_customize: false
  token_view: false
  token_update: false
  token_delete: false
  serial_disabled: false
access:
  create:
    roles:
      - anonymous
      - authenticated
    users: {  }
    permissions: {  }
  view_any:
    roles: {  }
    users: {  }
    permissions: {  }
  update_any:
    roles: {  }
    users: {  }
    permissions: {  }
  delete_any:
    roles: {  }
    users: {  }
    permissions: {  }
  purge_any:
    roles: {  }
    users: {  }
    permissions: {  }
  view_own:
    roles: {  }
    users: {  }
    permissions: {  }
  update_own:
    roles: {  }
    users: {  }
    permissions: {  }
  delete_own:
    roles: {  }
    users: {  }
    permissions: {  }
  administer:
    roles: {  }
    users: {  }
    permissions: {  }
  test:
    roles: {  }
    users: {  }
    permissions: {  }
  configuration:
    roles: {  }
    users: {  }
    permissions: {  }
handlers:
  zendesk_new_request:
    id: zendesk
    handler_id: zendesk_new_request
    label: 'Zendesk new request'
    notes: ''
    status: true
    conditions:
      disabled:
        ':input[name="support_agent_use_only[test_submission]"]':
          checked: true
    weight: 0
    settings:
      requester_name: computed_full_name
      requester_email: contact_email
      subject: 'Transportation Wallet Application'
      comment: '[webform_submission:values:html]'
      tags: 'drupal webform'
      priority: normal
      status: new
      recipient: ''
      group_id: '27146129932439'
      assignee_id: ''
      type: problem
      collaborators: ''
      custom_fields: ''
      ticket_id_field: request_ticket_id
      ticket_fork_field: ''
      ticket_form_id: '26628122071575'
  test_zendesk_new_request:
    id: zendesk
    handler_id: test_zendesk_new_request
    label: 'TEST: Zendesk new request'
    notes: ''
    status: true
    conditions:
      enabled:
        ':input[name="support_agent_use_only[test_submission]"]':
          checked: true
    weight: 1
    settings:
      requester_name: computed_full_name
      requester_email: contact_email
      subject: 'Transportation Wallet Application'
      comment: '[webform_submission:values:html]'
      tags: 'drupal webform'
      priority: normal
      status: new
      recipient: ''
      group_id: '4549352062487'
      assignee_id: ''
      type: problem
      collaborators: ''
      custom_fields: ''
      ticket_id_field: request_ticket_id
      ticket_fork_field: ''
      ticket_form_id: '26628122071575'
variants: {  }
