.searchPanel {
  position: fixed;
  z-index: z("searchPanel-mobile");
  top: 50px;
  bottom: 0;
  left: 100%;
  width: 100vw;
  transition: $transition;

  @include breakpoint(m) {
    position: relative;
    z-index: z("searchPanel-desktop");
    top: 0;
    left: 0;
    float: left;
    overflow: hidden;
    width: 40%;
    height: 100vh;
  }


  @include breakpoint(xl) {
    width: 30%;
  }


  &.open {
    left: 0;
  }

  .searchFilters {
    width: 100%;
    border-bottom: $border;
    background: $white;
    box-shadow: 0 3px 9px rgba(0, 0, 0, 0.1);

    @include breakpoint(m) {
      position: fixed;
      top: 50px;
      width: 40%;

      #SearchHead {
        display: flex;
        background: $white;
        align-items: center;

        input[type='text'] {
          border: none;
        }

        .search {
          right: 1em;
        }

        a.back {
          display: none;
        }

        a {
          &:before {
            margin-left: .3em;
          }
        }
      }
    }


    @include breakpoint(xl) {
      width: 30%;
    }


    #SearchHead {
      display: block;

      > * {
        flex-basis: 30px;
        flex-grow: 1;

        &:nth-child(2n) {
          flex-basis: 100%;
          flex-grow: 2;
        }
      }

      input[type='text'] {
        width: 100%;
        height: 50px;
        -webkit-transition: .25s;
        -moz-transition: .25s;
        border-top: none;
        border-right: none;
        border-bottom: 1px solid darken($gray-light, 5%);
        border-left: none;
        -moz-appearance: none;
        -webkit-appearance: none;
        appearance: none;

        @include border-radius(2px);

        @include padding(0.5);

        &:focus,
        &:hover,
        &:focus:hover {
          border-color: darken($gray-light, 15%);
          outline: none;
        }
      }

      .search {
        position: absolute;
        top: 6px;
        right: 6px;
        cursor: pointer;

        @include icon(before, search) {
          font-size: 24px;
        }
      }

      a#searchCancel {
        width: 40px;
        height: 40px;
        cursor: pointer;
        opacity: 0;

        &:before {
          @include icon(before, close) {
            font-size: 21px;
            color: $black;
          }
        }
      }
    }

    #locationSearch {
      position: fixed;
      overflow-y: visible;
      width: 100vw;
      max-height: 150px;
      color: $white;
      background: $gray-light;
      -webkit-overflow-scrolling: touch;

      @include breakpoint(m) {
        width: 40%;
      }


      .locationSearchResults {
        #AddressList {
          font-style: italic;
          background-color: #999;

          @include padding(0.5);

          &.no-results {
            background-color: #7c4427;
          }
        }
      }

      li {
        &:hover {
          cursor: pointer;
        }
      }
    }

    .filters {
      background: $white;

      @include padding(0.5);

      label {
        font-weight: $light;
        display: block;
        text-align: center;
        color: $gray-dark;
      }

      .btnFilters {
        display: flex;
        overflow-x: scroll;
        border-bottom: 1px solid $border;
        -webkit-overflow-scrolling: touch;

        @include padding(0 0 0.5);

        @include breakpoint(m) {
          overflow-x: visible;
          flex-wrap: wrap;
        }


        > button {
          margin-right: .5em;

          @include breakpoint(m) {
            margin-bottom: .5em;
          }


          &:last-of-type {
            padding-right: 1em;
          }
        }
      }

      .inputFilter {
        input[type='text'] {
          width: 100%;
          height: 40px;
          -webkit-transition: .25s;
          -moz-transition: .25s;
          border: 1px solid darken($gray-light, 5%);
          -moz-appearance: none;
          -webkit-appearance: none;
          appearance: none;

          @include border-radius(2px);

          @include padding(0.3);

          &:focus,
          &:hover,
          &:focus:hover {
            border-color: darken($gray-light, 15%);
            outline: none;
          }
        }
      }
    }
  }

  #CurrentProjects {
    overflow-y: scroll;
    height: calc(100% - 157px);
    background: $gray-light;
    -webkit-overflow-scrolling: touch;

    @include breakpoint(m) {
      overflow-y: scroll;
      height: calc(100% - 285px);
      margin-top: 236px;
    }


    @include breakpoint(l) {
      overflow-y: scroll;
      height: calc(100% - 250px);
      margin-top: 199px;
    }


    .projectsListContainer {
      @include padding(0 0.5 0.5);

      .projectsSummary {
        font-weight: $bold;
        padding: 1em 0;
        color: $gray;

        @include typeset(base-1);
      }

      .projectsList {
        margin-bottom: 1em;
        transition: box-shadow .2s ease;
        border-color: lighten($gray, 10%);
        background: $white;
        box-shadow: 0 3px 9px rgba(0, 0, 0, 0.1);

        @include border-radius(4px);

        &:hover {
          box-shadow: 0 3px 9px rgba(0, 0, 0, 0.2);
        }

        &:last-of-type {
          margin-bottom: 0;
        }

        .projectTeaser {
          display: flex;
          flex-direction: row;
          padding: .8em;

          .teaserThumb {
            visibility: hidden;
            height: auto;
            opacity: 0;
            background-position: center center;
            background-size: cover;
            flex: 0;

            @include breakpoint(s) {
              margin-right: 1em;
              flex: 0.5;
              visibility: visible;
              opacity: 1;
            }


            @include border-radius(2px);

            @include transition(all 0.3s ease-in-out);

            @include breakpoint(m) {
              flex: 0;
              opacity: 0;
            }

            @include breakpoint(l) {
              flex: 1;
              opacity: 1;
            }
          }

          .teaserContent {
            position: relative;
            overflow: hidden;
            flex: 2;

            h3 {
              margin-top: 0;
              margin-bottom: .5em;
            }
          }
        }
      }
    }
  }
}
